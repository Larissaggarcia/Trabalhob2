<!DOCTYPE html>
<html> 
	<head>
		<link rel="stylesheet" type="text/css" href="./estilob2.css"/>
		<meta charset="utf-8">
		<title>Janis's Store</title> 
	</head>
		<body>
		
			<header class="barraprincipal">
				<a href="/home-pag/b2.html" id="logo">Janis's Store</a>  
				<nav>												<!-- aponta para uma secao com links de navegacao-->
				<ul class="botoes">
					<li><a href="/sobrenos.html" class="links">Sobre Nós</a></li>
					<li><a href="/contatos.html" class="links">Contatos</a></li>
					<li><a href="/cadastro.html" class="links">Cadastro</a></li>
					<li><a href="/promocoes.html" class="links">Promocoes</a></li>
					<li><a href="/areadocliente" class="links">Area do Cliente</a></li>
					<li><a href="/carrinho.html" class="links">Carrinho</a></li>
				</ul>
				</nav>

			</header>

			<h2>Produtos</h2>

			<div id="produtos">
				<div id="carrinho"></div>
			</div>
			
			<div id="caixa-de-compra">
				<h2>Carrinho</h2>
				<div id="comprar">Sem Produtos..</div>
			</div>
			
			<button type="submit" id="comprar-pro"><a href="">Comprar</p></button>

			<script>
	
				const items = [
				{
						id: 0,
						class: "produto",
						img: "./img/camisetabobmascw.jpg",
						nome: "Camiseta Masculina Bob Marley Branca",
						
						quantidade: 0
					},
					{
						id: 1,
						img: "./img/camisetagnrc.jpg",
						nome: "Camiseta Feminina Guns n' Roses Cinza",
						quantidade: 0
					},
					{
						id: 2,
						img: "./img/camisetamascqueenb.jpg",
						nome: "Camiseta Masculina Queen Preta",
						quantidade: 0
					},
					{
						id: 3,
						img: "./img/camisetaqueena.jpg",
						nome: "Camiseta Feminina Queen Amarela",
						quantidade: 0
					},
					{
						id: 4,
						img: "./img/camisetaqueenb.jpg",
						nome: "Camiseta Feminina Queen Preta ",
						quantidade: 0
					},
					{
						id: 5,
						img: "./img/camisetarsb.jpg",
						nome: "Camiseta Feminina The Tolling Stones Branca",
						quantidade: 0
					},
					{
						id: 6,
						img: "./img/camisetasexpistolsb.jpg",
						nome: "Camiseta Feminina Sex Pistols Branca ",
						quantidade: 0
					},
					{
						id: 7,
						img: "./img/camisetatrsp.jpg",
						nome: "Camiseta Feminina The Rolling Stones Preta",
						quantidade: 0
					},
				
				]
				inicializarLoja = () => {
                var containerProdutos = document.getElementById('produtos');  //<!--inicia o meu Id produtos da linha 27 -->

                items.map((val)=>{
                    containerProdutos.innerHTML += `
                    
                    <div>
						<img src="`+val.img+`" class="produto"/>
						<p>`+val.nome+`</p>
						<a key="`+val.id+`" class="in-comprar" href="#">Comprar</a>
                    </div>
                    `;
                })

            }

			inicializarLoja();
			
			document.getElementById('carrinho').remove()

            atualizarCarrinho = () => {
                var containerCarrinho = document.getElementById('comprar');           // <!--inicia o id carrinho na linha 28-->

                sessionStorage.items = JSON.stringify(items);                          // <!--converte valores em JS para uma string JSON(notacao de objetos js)-->

                containerCarrinho.innerHTML = "";                                      // <!-- define ou obtém a sintaxe HTML descrevendo os elementos -->
                items.map((val)=>{                                                     // <!-- map em js  retorna o valor do item equivalente no array resultante-->
                    if (val.quantidade > 0){
                        containerCarrinho.innerHTML += `
                        <p>Item: `+val.nome+` | Qtde:`+val.quantidade+`</p>
                        `;
                    }
                })
            }

            var links = document.getElementsByTagName('a');

            for(var i = 0; i < links.length; i++){  
                links[i].addEventListener("click",function(){                          // <!--addEventListener registra a espera de um evento-->
                    let key = this.getAttribute('key');
                    items[key].quantidade++;
                    atualizarCarrinho();
                    return false;
                })
            }
  
        </script>

    </body>
</html>
		</body>                 